{
  "_format": "hh-sol-artifact-1",
  "contractName": "RouterV2",
  "sourceName": "contracts/RouterV2.sol",
  "abi": [
    {
      "inputs": [],
      "name": "UnacceptableDeposit",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "UnacceptableTrancheLength",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "contract IPerpetualTranche",
          "name": "perp",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "collateralAmount",
          "type": "uint256"
        }
      ],
      "name": "previewTranche",
      "outputs": [
        {
          "internalType": "contract IBondController",
          "name": "",
          "type": "address"
        },
        {
          "components": [
            {
              "internalType": "contract IERC20Upgradeable",
              "name": "token",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "amount",
              "type": "uint256"
            }
          ],
          "internalType": "struct TokenAmount[]",
          "name": "",
          "type": "tuple[]"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "contract IPerpetualTranche",
          "name": "perp",
          "type": "address"
        },
        {
          "internalType": "contract IBondController",
          "name": "bond",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "collateralAmount",
          "type": "uint256"
        }
      ],
      "name": "trancheAndDeposit",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b5061121f806100206000396000f3fe608060405234801561001057600080fd5b50600436106100365760003560e01c8063561527671461003b5780636ca3755914610065575b600080fd5b61004e610049366004610ff2565b61007a565b60405161005c92919061101e565b60405180910390f35b610078610073366004611083565b610106565b005b600060606000846001600160a01b0316638fb69c4b6040518163ffffffff1660e01b81526004016020604051808303816000875af11580156100c0573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906100e491906110c4565b9050806100fa6001600160a01b038216866104f4565b92509250509250929050565b6000826001600160a01b03163b1161016c57826001600160a01b0316631d8557d76040518163ffffffff1660e01b8152600401600060405180830381600087803b15801561015357600080fd5b505af1158015610167573d6000803e3d6000fd5b505050505b6000610180836001600160a01b031661080c565b90506000836001600160a01b031663b2016bd46040518163ffffffff1660e01b8152600401602060405180830381865afa1580156101c2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101e691906110c4565b90506101fd6001600160a01b03821633308661099f565b610208818585610a3d565b60405163b6b55f2560e01b8152600481018490526001600160a01b0385169063b6b55f2590602401600060405180830381600087803b15801561024a57600080fd5b505af115801561025e573d6000803e3d6000fd5b50508351516040516370a0823160e01b8152306004820152600093506001600160a01b0390911691506370a0823190602401602060405180830381865afa1580156102ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102d191906110f7565b8351519091506102e2908783610a3d565b8251516040516311f9fbc960e21b81526001600160a01b03918216600482015260248101839052908716906347e7ef24906044016020604051808303816000875af1158015610335573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061035991906110f7565b508251602001516040516370a0823160e01b81523060048201526103e59133916001600160a01b03909116906370a0823190602401602060405180830381865afa1580156103ab573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103cf91906110f7565b8551602001516001600160a01b03169190610ad1565b6040516370a0823160e01b81523060048201526000906001600160a01b038416906370a0823190602401602060405180830381865afa15801561042c573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061045091906110f7565b9050801561046c5761046c6001600160a01b0384163383610ad1565b6040516370a0823160e01b81523060048201526104eb9033906001600160a01b038a16906370a0823190602401602060405180830381865afa1580156104b6573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906104da91906110f7565b6001600160a01b038a169190610ad1565b50505050505050565b6060826001600160a01b031663ae4e7fdf6040518163ffffffff1660e01b8152600401602060405180830381865afa158015610534573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105589190611110565b1561057657604051631fbe429360e01b815260040160405180910390fd5b60006105818461080c565b6040805160028082526060820190925291925060009190816020015b604080518082019091526000808252602082015281526020019060019003908161059d5790505090506000856001600160a01b031663fc7b9c186040518163ffffffff1660e01b8152600401602060405180830381865afa158015610606573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061062a91906110f7565b90506000866001600160a01b031663b2016bd46040518163ffffffff1660e01b8152600401602060405180830381865afa15801561066c573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061069091906110c4565b6040516370a0823160e01b81526001600160a01b03898116600483015291909116906370a0823190602401602060405180830381865afa1580156106d8573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906106fc91906110f7565b90506000610729856020015160006002811061071a5761071a6110e1565b602002015188906103e8610b06565b9050811561073f5761073c818484610b06565b90505b604080518082019091528551516001600160a01b031681526020810182905284518590600090610771576107716110e1565b602002602001018190525060006107a78660200151600160028110610798576107986110e1565b602002015189906103e8610b06565b905082156107bd576107ba818585610b06565b90505b6040805180820190915286516020908101516001600160a01b0316825281018290528551869060019081106107f4576107f46110e1565b60209081029190910101525092979650505050505050565b610814610f97565b816001600160a01b03166359eb82246040518163ffffffff1660e01b8152600401602060405180830381865afa158015610852573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061087691906110f7565b6002146108965760405163673f20ed60e11b815260040160405180910390fd5b6040516313612cb160e11b8152600060048201526001600160a01b038316906326c25962906024016040805180830381865afa1580156108da573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906108fe9190611132565b82516020840151600060200201919091526001600160a01b0391821690526040516313612cb160e11b815260016004820152908316906326c25962906024016040805180830381865afa158015610959573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061097d9190611132565b82516020808501518101929092526001600160a01b0392909216910152919050565b6040516001600160a01b0380851660248301528316604482015260648101829052610a379085906323b872dd60e01b906084015b60408051601f198184030181529190526020810180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff167fffffffff0000000000000000000000000000000000000000000000000000000090931692909217909152610c03565b50505050565b604051636eb1769f60e11b81523060048201526001600160a01b0383811660248301526000919085169063dd62ed3e90604401602060405180830381865afa158015610a8d573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610ab191906110f7565b905081811015610a3757610a376001600160a01b03851684600019610ceb565b6040516001600160a01b038316602482015260448101829052610b0190849063a9059cbb60e01b906064016109d3565b505050565b6000808060001985870985870292508281108382030391505080600003610b4057838281610b3657610b36611160565b0492505050610bfc565b808411610b945760405162461bcd60e51b815260206004820152601560248201527f4d6174683a206d756c446976206f766572666c6f77000000000000000000000060448201526064015b60405180910390fd5b600084868809851960019081018716968790049682860381900495909211909303600082900391909104909201919091029190911760038402600290811880860282030280860282030280860282030280860282030280860282030280860290910302029150505b9392505050565b6000610c58826040518060400160405280602081526020017f5361666545524332303a206c6f772d6c6576656c2063616c6c206661696c6564815250856001600160a01b0316610e079092919063ffffffff16565b9050805160001480610c79575080806020019051810190610c799190611110565b610b015760405162461bcd60e51b815260206004820152602a60248201527f5361666545524332303a204552433230206f7065726174696f6e20646964206e60448201527f6f742073756363656564000000000000000000000000000000000000000000006064820152608401610b8b565b801580610d655750604051636eb1769f60e11b81523060048201526001600160a01b03838116602483015284169063dd62ed3e90604401602060405180830381865afa158015610d3f573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610d6391906110f7565b155b610dd75760405162461bcd60e51b815260206004820152603660248201527f5361666545524332303a20617070726f76652066726f6d206e6f6e2d7a65726f60448201527f20746f206e6f6e2d7a65726f20616c6c6f77616e6365000000000000000000006064820152608401610b8b565b6040516001600160a01b038316602482015260448101829052610b0190849063095ea7b360e01b906064016109d3565b6060610e168484600085610e1e565b949350505050565b606082471015610e7f5760405162461bcd60e51b815260206004820152602660248201527f416464726573733a20696e73756666696369656e742062616c616e636520666f6044820152651c8818d85b1b60d21b6064820152608401610b8b565b600080866001600160a01b03168587604051610e9b919061119a565b60006040518083038185875af1925050503d8060008114610ed8576040519150601f19603f3d011682016040523d82523d6000602084013e610edd565b606091505b5091509150610eee87838387610ef9565b979650505050505050565b60608315610f68578251600003610f61576001600160a01b0385163b610f615760405162461bcd60e51b815260206004820152601d60248201527f416464726573733a2063616c6c20746f206e6f6e2d636f6e74726163740000006044820152606401610b8b565b5081610e16565b610e168383815115610f7d5781518083602001fd5b8060405162461bcd60e51b8152600401610b8b91906111b6565b6040518060400160405280610faa610fbc565b8152602001610fb7610fbc565b905290565b60405180604001604052806002906020820280368337509192915050565b6001600160a01b0381168114610fef57600080fd5b50565b6000806040838503121561100557600080fd5b823561101081610fda565b946020939093013593505050565b600060408083016001600160a01b03808716855260208381870152828751808552606088019150828901945060005b8181101561107457855180518616845284015184840152948301949186019160010161104d565b50909998505050505050505050565b60008060006060848603121561109857600080fd5b83356110a381610fda565b925060208401356110b381610fda565b929592945050506040919091013590565b6000602082840312156110d657600080fd5b8151610bfc81610fda565b634e487b7160e01b600052603260045260246000fd5b60006020828403121561110957600080fd5b5051919050565b60006020828403121561112257600080fd5b81518015158114610bfc57600080fd5b6000806040838503121561114557600080fd5b825161115081610fda565b6020939093015192949293505050565b634e487b7160e01b600052601260045260246000fd5b60005b83811015611191578181015183820152602001611179565b50506000910152565b600082516111ac818460208701611176565b9190910192915050565b60208152600082518060208401526111d5816040850160208701611176565b601f01601f1916919091016040019291505056fea2646970667358221220872a1bc371a5bbae6b5c8e6ecbc0c278df16fa65ca9978a839feac4415879e0164736f6c63430008140033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100365760003560e01c8063561527671461003b5780636ca3755914610065575b600080fd5b61004e610049366004610ff2565b61007a565b60405161005c92919061101e565b60405180910390f35b610078610073366004611083565b610106565b005b600060606000846001600160a01b0316638fb69c4b6040518163ffffffff1660e01b81526004016020604051808303816000875af11580156100c0573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906100e491906110c4565b9050806100fa6001600160a01b038216866104f4565b92509250509250929050565b6000826001600160a01b03163b1161016c57826001600160a01b0316631d8557d76040518163ffffffff1660e01b8152600401600060405180830381600087803b15801561015357600080fd5b505af1158015610167573d6000803e3d6000fd5b505050505b6000610180836001600160a01b031661080c565b90506000836001600160a01b031663b2016bd46040518163ffffffff1660e01b8152600401602060405180830381865afa1580156101c2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101e691906110c4565b90506101fd6001600160a01b03821633308661099f565b610208818585610a3d565b60405163b6b55f2560e01b8152600481018490526001600160a01b0385169063b6b55f2590602401600060405180830381600087803b15801561024a57600080fd5b505af115801561025e573d6000803e3d6000fd5b50508351516040516370a0823160e01b8152306004820152600093506001600160a01b0390911691506370a0823190602401602060405180830381865afa1580156102ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102d191906110f7565b8351519091506102e2908783610a3d565b8251516040516311f9fbc960e21b81526001600160a01b03918216600482015260248101839052908716906347e7ef24906044016020604051808303816000875af1158015610335573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061035991906110f7565b508251602001516040516370a0823160e01b81523060048201526103e59133916001600160a01b03909116906370a0823190602401602060405180830381865afa1580156103ab573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103cf91906110f7565b8551602001516001600160a01b03169190610ad1565b6040516370a0823160e01b81523060048201526000906001600160a01b038416906370a0823190602401602060405180830381865afa15801561042c573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061045091906110f7565b9050801561046c5761046c6001600160a01b0384163383610ad1565b6040516370a0823160e01b81523060048201526104eb9033906001600160a01b038a16906370a0823190602401602060405180830381865afa1580156104b6573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906104da91906110f7565b6001600160a01b038a169190610ad1565b50505050505050565b6060826001600160a01b031663ae4e7fdf6040518163ffffffff1660e01b8152600401602060405180830381865afa158015610534573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105589190611110565b1561057657604051631fbe429360e01b815260040160405180910390fd5b60006105818461080c565b6040805160028082526060820190925291925060009190816020015b604080518082019091526000808252602082015281526020019060019003908161059d5790505090506000856001600160a01b031663fc7b9c186040518163ffffffff1660e01b8152600401602060405180830381865afa158015610606573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061062a91906110f7565b90506000866001600160a01b031663b2016bd46040518163ffffffff1660e01b8152600401602060405180830381865afa15801561066c573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061069091906110c4565b6040516370a0823160e01b81526001600160a01b03898116600483015291909116906370a0823190602401602060405180830381865afa1580156106d8573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906106fc91906110f7565b90506000610729856020015160006002811061071a5761071a6110e1565b602002015188906103e8610b06565b9050811561073f5761073c818484610b06565b90505b604080518082019091528551516001600160a01b031681526020810182905284518590600090610771576107716110e1565b602002602001018190525060006107a78660200151600160028110610798576107986110e1565b602002015189906103e8610b06565b905082156107bd576107ba818585610b06565b90505b6040805180820190915286516020908101516001600160a01b0316825281018290528551869060019081106107f4576107f46110e1565b60209081029190910101525092979650505050505050565b610814610f97565b816001600160a01b03166359eb82246040518163ffffffff1660e01b8152600401602060405180830381865afa158015610852573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061087691906110f7565b6002146108965760405163673f20ed60e11b815260040160405180910390fd5b6040516313612cb160e11b8152600060048201526001600160a01b038316906326c25962906024016040805180830381865afa1580156108da573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906108fe9190611132565b82516020840151600060200201919091526001600160a01b0391821690526040516313612cb160e11b815260016004820152908316906326c25962906024016040805180830381865afa158015610959573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061097d9190611132565b82516020808501518101929092526001600160a01b0392909216910152919050565b6040516001600160a01b0380851660248301528316604482015260648101829052610a379085906323b872dd60e01b906084015b60408051601f198184030181529190526020810180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff167fffffffff0000000000000000000000000000000000000000000000000000000090931692909217909152610c03565b50505050565b604051636eb1769f60e11b81523060048201526001600160a01b0383811660248301526000919085169063dd62ed3e90604401602060405180830381865afa158015610a8d573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610ab191906110f7565b905081811015610a3757610a376001600160a01b03851684600019610ceb565b6040516001600160a01b038316602482015260448101829052610b0190849063a9059cbb60e01b906064016109d3565b505050565b6000808060001985870985870292508281108382030391505080600003610b4057838281610b3657610b36611160565b0492505050610bfc565b808411610b945760405162461bcd60e51b815260206004820152601560248201527f4d6174683a206d756c446976206f766572666c6f77000000000000000000000060448201526064015b60405180910390fd5b600084868809851960019081018716968790049682860381900495909211909303600082900391909104909201919091029190911760038402600290811880860282030280860282030280860282030280860282030280860282030280860290910302029150505b9392505050565b6000610c58826040518060400160405280602081526020017f5361666545524332303a206c6f772d6c6576656c2063616c6c206661696c6564815250856001600160a01b0316610e079092919063ffffffff16565b9050805160001480610c79575080806020019051810190610c799190611110565b610b015760405162461bcd60e51b815260206004820152602a60248201527f5361666545524332303a204552433230206f7065726174696f6e20646964206e60448201527f6f742073756363656564000000000000000000000000000000000000000000006064820152608401610b8b565b801580610d655750604051636eb1769f60e11b81523060048201526001600160a01b03838116602483015284169063dd62ed3e90604401602060405180830381865afa158015610d3f573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610d6391906110f7565b155b610dd75760405162461bcd60e51b815260206004820152603660248201527f5361666545524332303a20617070726f76652066726f6d206e6f6e2d7a65726f60448201527f20746f206e6f6e2d7a65726f20616c6c6f77616e6365000000000000000000006064820152608401610b8b565b6040516001600160a01b038316602482015260448101829052610b0190849063095ea7b360e01b906064016109d3565b6060610e168484600085610e1e565b949350505050565b606082471015610e7f5760405162461bcd60e51b815260206004820152602660248201527f416464726573733a20696e73756666696369656e742062616c616e636520666f6044820152651c8818d85b1b60d21b6064820152608401610b8b565b600080866001600160a01b03168587604051610e9b919061119a565b60006040518083038185875af1925050503d8060008114610ed8576040519150601f19603f3d011682016040523d82523d6000602084013e610edd565b606091505b5091509150610eee87838387610ef9565b979650505050505050565b60608315610f68578251600003610f61576001600160a01b0385163b610f615760405162461bcd60e51b815260206004820152601d60248201527f416464726573733a2063616c6c20746f206e6f6e2d636f6e74726163740000006044820152606401610b8b565b5081610e16565b610e168383815115610f7d5781518083602001fd5b8060405162461bcd60e51b8152600401610b8b91906111b6565b6040518060400160405280610faa610fbc565b8152602001610fb7610fbc565b905290565b60405180604001604052806002906020820280368337509192915050565b6001600160a01b0381168114610fef57600080fd5b50565b6000806040838503121561100557600080fd5b823561101081610fda565b946020939093013593505050565b600060408083016001600160a01b03808716855260208381870152828751808552606088019150828901945060005b8181101561107457855180518616845284015184840152948301949186019160010161104d565b50909998505050505050505050565b60008060006060848603121561109857600080fd5b83356110a381610fda565b925060208401356110b381610fda565b929592945050506040919091013590565b6000602082840312156110d657600080fd5b8151610bfc81610fda565b634e487b7160e01b600052603260045260246000fd5b60006020828403121561110957600080fd5b5051919050565b60006020828403121561112257600080fd5b81518015158114610bfc57600080fd5b6000806040838503121561114557600080fd5b825161115081610fda565b6020939093015192949293505050565b634e487b7160e01b600052601260045260246000fd5b60005b83811015611191578181015183820152602001611179565b50506000910152565b600082516111ac818460208701611176565b9190910192915050565b60208152600082518060208401526111d5816040850160208701611176565b601f01601f1916919091016040019291505056fea2646970667358221220872a1bc371a5bbae6b5c8e6ecbc0c278df16fa65ca9978a839feac4415879e0164736f6c63430008140033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
